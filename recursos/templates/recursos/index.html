{% extends "SiGeCAV/base.html" %}

{% block title %}SiGeCAV - Recursos{% endblock %}

{% block header %}Recursos{% endblock %}

{% block content %}

  <table class="table">
    <tr>
      <th>Nome</th>
      <th>Tipo</th>
      <th>Telefone</th>
      <th>Quantidade Total</th>
      <th>Quantidade Dispon√≠vel</th>
      {% if user.profile.tipoAcesso == 'administrador' %}
        <th></th>
      {% endif %}
    </tr>
    {% for recurso in recursos %}
      <tr>
        <td>{{recurso.nome}}</td>
        <td>{{recurso.get_tipoRecurso_display}}</td>
        <td>{{recurso.telefone}}</td>
        <td>{% firstof recurso.quantidadeTotal "---" %}</td>
        <td>{% firstof recurso.quantidadeDisponivel "---" %}</td>
        
        {% if user.profile.tipoAcesso == 'administrador' %}
          <td>
            <a class="btn btn-default" href="/recursos/detalhes?id={{recurso.id}}">detalhar</a>
            <a class="btn btn-default" href="/recursos/editar?id={{recurso.id}}">editar</a>
            <a class="btn btn-default" href="/recursos/remover?id={{recurso.id}} onclick="return confirm('Tem certeza de que deseja remover o recurso?');"">remover</a>
          </td>
        {% endif %}
      </tr>
    {%endfor%}
  </table>

  <a class="btn btn-default" href="{% url 'recursoNovo' %}">Cadastrar Recurso</a>

{% endblock %}
